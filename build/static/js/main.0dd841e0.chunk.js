(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a(45)},27:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),i=(a(27),a(8)),c=a(1),l=a(9),u=a(3),d=a(2),p=a(4),f=(a(6),a(20)),h=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).render=function(){return r.a.createElement("h3",{className:"todoList-header__title"},a.props.title)},a}return Object(p.a)(e,t),e}(r.a.Component),m=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={error:!1,valueInput:""},a.onChangeInput=function(t){console.dir(a.state.valueInput),a.setState({error:!1,valueInput:t.currentTarget.value})},a.onAddTaskClick=function(){var t=a.state.valueInput;a.state.valueInput="",""===t||null===t||void 0===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addItem(t))},a.onKeyPress=function(t){"Enter"===t.key&&a.onAddTaskClick()},a.render=function(){var t=!0===a.state.error?"error":"";return r.a.createElement("div",{className:"todoList-newTaskForm"},r.a.createElement("input",{onKeyPress:a.onKeyPress,type:"text",onChange:a.onChangeInput,className:t,placeholder:"New task name",value:a.state.valueInput}),r.a.createElement("button",{onClick:function(){return a.onAddTaskClick()}},"Add"))},a}return Object(p.a)(e,t),e}(r.a.Component),k=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"todoList-header"},r.a.createElement(h,{title:a.props.title}),r.a.createElement(m,{addItem:a.props.addTask}))},a}return Object(p.a)(e,t),e}(r.a.Component),v=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={isShow:!0},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a.onShowFiltersClick=function(){a.setState({isShow:!0})},a.onHideFiltersClick=function(){a.setState({isShow:!1})},a.render=function(t){var e="All"===a.props.filterValue?"filter-active":"",n="Completed"===a.props.filterValue?"filter-active":"",o="Active"===a.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:"todoList-footer"},a.state.isShow&&r.a.createElement("div",null,r.a.createElement("button",{onClick:a.onAllFilterClick,className:e},"All"),r.a.createElement("button",{onClick:a.onCompletedFilterClick,className:n},"Completed"),r.a.createElement("button",{onClick:a.onActiveFilterClick,className:o},"Active")),a.state.isShow&&r.a.createElement("span",{onClick:a.onHideFiltersClick},"Hide"),!a.state.isShow&&r.a.createElement("span",{onClick:a.onShowFiltersClick},"Show"))},a}return Object(p.a)(e,t),e}(r.a.Component),g=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={editMode:!0},a.onIsDoneChange=function(t){a.props.changeStatus(a.props.task.id,t.currentTarget.checked)},a.activateEditMode=function(){a.setState({editMode:!a.state.editMode})},a.diactivateEditMode=function(){a.setState({editMode:!a.state.editMode})},a.onTitleChange=function(t){a.props.changeTitle(a.props.task.id,t.currentTarget.value)},a.render=function(t){var e="";switch(a.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="Hi";break;case 3:e="Urgently";break;case 4:e="Later";break;default:e=""}var n=a.props.task.isDone?"todoList-task-done":"todoList-task";return r.a.createElement("div",{className:n},r.a.createElement("input",{type:"checkbox",checked:a.props.task.isDone,onChange:a.onIsDoneChange}),a.state.editMode?r.a.createElement("span",{onClick:a.activateEditMode},"".concat(a.props.task.title)," "):r.a.createElement("input",{autoFocus:!0,onBlur:a.diactivateEditMode,onChange:a.onTitleChange,value:a.props.task.title}),", priority - ",e)},a}return Object(p.a)(e,t),e}(r.a.Component),b=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).render=function(){var t=a.props.tasks.map(function(t){return r.a.createElement(g,{changeStatus:a.props.changeStatus,changeTitle:a.props.changeTitle,task:t})});return r.a.createElement("div",{className:"todoList-task"},t)},a}return Object(p.a)(e,t),e}(r.a.Component),S=a(7),C=a.n(S),w=C.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"326adc8b-48be-4905-a33d-14875af1c491"}}),O=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).nextTaskId=0,a.state={tasks:[],filterValue:"All"},a.saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("our-state"+a.props.id,t)},a.restoreState=function(){a.state;C.a.get("https://social-network.samuraijs.com/api/1.0/todo-lists/".concat(a.props.id,"/tasks"),{withCredentials:!0}).then(function(t){a.setState({tasks:t.data.items})})},a.addTask=function(t){w.post("todo-lists/".concat(a.props.id,"/tasks"),{title:t}).then(function(t){var e=t.data.data.item;a.setState({tasks:[].concat(Object(i.a)(a.state.tasks),[e])})})},a._restoreState=function(){var t={tasks:[],filterValue:"All"},e=localStorage.getItem("our-state"+a.props.id);null!=e&&(t=JSON.parse(e)),a.setState(t)},a._addTask=function(t){var e={id:a.nextTaskId,title:t,isDone:!1,priority:"low"};a.nextTaskId++;var n=[].concat(Object(i.a)(a.state.tasks),[e]);a.setState({tasks:n},function(){return a.saveState()})},a.changeFilter=function(t){a.setState({filterValue:t},function(){return a.saveState()})},a.changeTask=function(t,e){var n=a.state.tasks.map(function(a){return a.id!==t?a:Object(f.a)({},a,e)});a.setState({tasks:n},function(){return a.saveState()})},a.changeStatus=function(t,e){a.changeTask(t,{isDone:e})},a.changeTitle=function(t,e){a.changeTask(t,{title:e})},a.render=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"todoList"},r.a.createElement(k,{addTask:a.addTask,title:a.props.title}),r.a.createElement(b,{changeStatus:a.changeStatus,changeTitle:a.changeTitle,tasks:a.state.tasks.filter(function(t){return"All"===a.state.filterValue||("Active"===a.state.filterValue?!0===t.isDone:"Completed"===a.state.filterValue?!1===t.isDone:void 0)})}),r.a.createElement(v,{filterValue:a.state.filterValue,changeFilter:a.changeFilter})))},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.restoreState(),this.setState({},function(){var e=t.state.tasks.reduce(function(t,e){return t<e.id?e.id:t},-1);return console.log(e),t.nextTaskId=0!==e||null!==e?e+1:0})}}]),e}(r.a.Component),j=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).nextItemId=0,a.state={todoLists:[],title:""},a.saveState=function(){var t=JSON.stringify(a.state);localStorage.setItem("our-stateGeneral",t)},a.restoreState=function(){a.state;C.a.get("https://social-network.samuraijs.com/api/1.0/todo-lists",{withCredentials:!0}).then(function(t){a.setState({todoLists:t.data})})},a.onAddNewGeneralTaskClick=function(t){w.post("todo-lists",{title:t}).then(function(t){var e=t.data.data.item;a.setState({todoLists:[].concat(Object(i.a)(a.state.todoLists),[e])})})},a._restoreState=function(){var t={todoLists:[],title:""},e=localStorage.getItem("our-stateGeneral");null!=e&&(t=JSON.parse(e)),a.setState(t)},a._onAddNewGeneralTaskClick=function(t){var e={id:a.nextItemId,title:t};a.setState({todoLists:[].concat(Object(i.a)(a.state.todoLists),[e])},function(){return a.saveState()}),a.nextItemId++},a.render=function(){var t=a.state.todoLists.map(function(t){return r.a.createElement(O,{id:t.id,title:t.title})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"todoList"},r.a.createElement(m,{addItem:a.onAddNewGeneralTaskClick})),r.a.createElement("div",{className:"flex"},t))},a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.restoreState(),this.setState({},function(){var e=t.state.todoLists.reduce(function(t,e){return t<e.id?e.id:t},-1);return console.log(e),t.nextItemId=0!==e||null!==e?e+1:0})}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},6:function(t,e,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.0dd841e0.chunk.js.map